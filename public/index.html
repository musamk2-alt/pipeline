<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>$EMOTIONS â€” Coin Memory</title>

    <style>
      :root{
        --bg:#0b0f0d;
        --card:#0f1512;
        --card2:#0c120f;
        --border:rgba(255,255,255,.10);
        --border2:rgba(255,255,255,.06);

        --green:#2dff9b;
        --greenSoft:rgba(45,255,155,.14);
        --greenGlow:rgba(45,255,155,.25);

        --white:#ffffff;
        --muted:rgba(255,255,255,.68);

        --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono";
        --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      }

      *{ box-sizing:border-box }
      html,body{ height:100% }
      body{
        margin:0;
        font-family:var(--sans);
        color:var(--white);
        background:
          radial-gradient(circle at 18% -12%, rgba(45,255,155,.14), transparent 40%),
          radial-gradient(circle at 110% 35%, rgba(45,255,155,.09), transparent 45%),
          var(--bg);
        overflow-x:hidden;
      }

      /* Background grid + grain */
      .bg{ position:fixed; inset:0; pointer-events:none; z-index:0; }
      .gridlines{
        position:absolute; inset:0;
        background:
          linear-gradient(to right, rgba(255,255,255,.03) 1px, transparent 1px),
          linear-gradient(to bottom, rgba(255,255,255,.03) 1px, transparent 1px);
        background-size: 44px 44px;
        opacity:.35;
        mask-image: radial-gradient(circle at 30% 15%, black 0%, transparent 62%);
      }
      .grain{
        position:absolute; inset:0;
        background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.25'/%3E%3C/svg%3E");
        opacity:.06;
        mix-blend-mode:overlay;
      }
      .glow{
        position:absolute; width:560px; height:560px; border-radius:999px;
        filter: blur(80px);
        opacity:.28;
      }
      .glowA{ left:-160px; top:-170px; background:radial-gradient(circle, rgba(45,255,155,.55), transparent 60%); }
      .glowB{ right:-180px; bottom:-240px; background:radial-gradient(circle, rgba(45,255,155,.35), transparent 60%); }

      .wrap{
        max-width:1100px;
        margin:0 auto;
        padding:26px 16px 42px;
        position:relative;
        z-index:1;
      }

      /* Header */
      .top{
        display:flex;
        justify-content:space-between;
        align-items:center;
        gap:14px;
        margin-bottom:14px;
      }
      .brand{
        display:flex;
        align-items:center;
        gap:14px;
      }
      .logo{
        width:46px; height:46px;
        border-radius:16px;
        display:grid; place-items:center;
        background:linear-gradient(135deg, rgba(45,255,155,.95), rgba(255,255,255,.18));
        color:#06140c;
        font-size:22px;
        font-weight:900;
        box-shadow:0 0 42px rgba(45,255,155,.28);
        border:1px solid rgba(255,255,255,.14);
      }
      h1{
        margin:0;
        font-size:28px;
        font-weight:950;
        letter-spacing:.2px;
      }
      .ticker{
        color:var(--green);
        text-shadow:0 0 18px rgba(45,255,155,.45);
      }
      .sub{
        margin:3px 0 0;
        font-size:13px;
        color:var(--muted);
      }

      /* Buttons */
      .btn{
        display:inline-flex; align-items:center; justify-content:center; gap:8px;
        padding:10px 14px;
        border-radius:14px;
        border:1px solid rgba(255,255,255,.12);
        background:rgba(0,0,0,.28);
        color:var(--white);
        cursor:pointer;
        font-weight:900;
      }
      .btn:hover{ transform: translateY(-1px); }
      .btn:active{ transform: translateY(0); }
      .btn.primary{
        background:linear-gradient(135deg, rgba(45,255,155,.95), rgba(255,255,255,.18));
        color:#05130b;
        box-shadow:0 18px 70px rgba(45,255,155,.12);
        border-color:rgba(255,255,255,.18);
      }

      /* Cards */
      .card{
        border-radius:18px;
        background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)), var(--card);
        border:1px solid var(--border);
        box-shadow:0 24px 90px rgba(0,0,0,.55);
        overflow:hidden;
      }

      /* Status bar */
      .bar{
        display:flex;
        justify-content:space-between;
        align-items:center;
        gap:12px;
        flex-wrap:wrap;
        padding:14px;
      }
      .barLeft,.barRight{
        display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      }
      .chip{
        display:inline-flex;
        align-items:center;
        gap:8px;
        padding:7px 10px;
        border-radius:999px;
        border:1px solid var(--border2);
        background:rgba(0,0,0,.24);
        font-family:var(--mono);
        font-size:12px;
      }
      .dot{
        width:8px; height:8px; border-radius:50%;
        background:rgba(255,255,255,.25);
        box-shadow:0 0 0 4px rgba(255,255,255,.06);
      }
      .meta{
        font-family:var(--mono);
        font-size:12px;
        color:var(--muted);
      }
      .sep{ opacity:.5; margin:0 6px; }
      .mono{ font-family:var(--mono); }

      /* Grid */
      .grid{
        display:grid;
        grid-template-columns: 1.45fr 1fr;
        gap:14px;
        margin-top:14px;
      }
      @media (max-width:980px){
        .grid{ grid-template-columns:1fr; }
      }

      /* Hero quest */
      .hero{
        padding:18px;
        position:relative;
        border:1px solid rgba(45,255,155,.25);
        box-shadow:0 0 0 1px rgba(45,255,155,.12), 0 0 70px rgba(45,255,155,.10);
      }
      .hero:before{
        content:"";
        position:absolute; inset:-1px;
        border-radius:18px;
        background:linear-gradient(135deg, rgba(45,255,155,.55), rgba(255,255,255,.10));
        opacity:.20;
        z-index:0;
      }
      .hero:after{
        content:"";
        position:absolute; inset:0;
        border-radius:18px;
        background:radial-gradient(circle at 30% 0%, rgba(45,255,155,.18), transparent 55%);
        opacity:.85;
        z-index:0;
      }
      .hero > *{ position:relative; z-index:1; }

      .heroTop{
        display:flex; justify-content:space-between; align-items:flex-start;
        gap:10px; margin-bottom:10px;
      }
      .heroTitle{
        display:flex; align-items:center; gap:10px; flex-wrap:wrap;
      }
      .pill{
        display:inline-flex; align-items:center; gap:8px;
        padding:6px 10px;
        border-radius:999px;
        border:1px solid rgba(45,255,155,.35);
        background:rgba(0,0,0,.30);
        font-family:var(--mono);
        font-size:12px;
        box-shadow:0 0 18px rgba(45,255,155,.14);
      }
      .small{ font-family:var(--mono); font-size:12px; color:var(--muted); }
      h2{
        margin:10px 0 6px;
        font-size:34px;
        font-weight:950;
        letter-spacing:.6px;
        text-transform:uppercase;
      }
      .rule{ margin:0; font-size:14px; color:rgba(255,255,255,.78); line-height:1.45; }

      .chips{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
      .badge{
        display:inline-flex; align-items:center; gap:8px;
        padding:7px 10px;
        border-radius:999px;
        border:1px solid rgba(255,255,255,.12);
        background:rgba(0,0,0,.22);
        font-family:var(--mono);
        font-size:12px;
      }

      /* Inputs */
      .claimBox{
        display:grid;
        grid-template-columns: 1fr 1fr auto;
        gap:10px;
        margin-top:14px;
      }
      @media (max-width:780px){
        .claimBox{ grid-template-columns:1fr; }
      }
      .input{
        width:100%;
        padding:12px 12px;
        border-radius:14px;
        border:1px solid rgba(255,255,255,.12);
        background:rgba(0,0,0,.26);
        color:var(--white);
        font-family:var(--mono);
        outline:none;
      }
      .input:focus{
        border-color: rgba(45,255,155,.65);
        box-shadow: 0 0 0 4px rgba(45,255,155,.10);
      }

      .hint{
        margin-top:10px;
        color:rgba(255,255,255,.66);
        font-size:12px;
        border-top:1px solid rgba(255,255,255,.06);
        padding-top:10px;
      }

      /* Side */
      .side{ padding:16px; background:linear-gradient(180deg, rgba(255,255,255,.04), transparent), var(--card2); }
      .sideHead{ display:flex; justify-content:space-between; gap:10px; align-items:flex-start; }
      .sideTitle{ font-size:16px; font-weight:950; }
      .stack{ margin-top:12px; display:flex; flex-direction:column; gap:10px; }
      .item{
        border:1px solid rgba(255,255,255,.10);
        background:rgba(0,0,0,.20);
        border-radius:16px;
        padding:12px;
      }
      .item .lock{ font-family:var(--mono); font-size:12px; color:rgba(255,255,255,.58); }
      .item .t{ font-size:14px; font-weight:950; margin-top:4px; text-transform:uppercase; }
      .item .r{ font-size:13px; color:rgba(255,255,255,.74); margin-top:6px; line-height:1.35; }
      .divider{ height:1px; background:rgba(255,255,255,.06); margin:14px 0; }

      /* Sections */
      .cardHead{
        display:flex; justify-content:space-between; align-items:flex-end;
        gap:10px;
        padding:14px 14px;
        border-bottom:1px solid rgba(255,255,255,.06);
      }
      .cardTitle{ font-size:16px; font-weight:950; }
      .tableWrap{ padding:0; }
      table{ width:100%; border-collapse:collapse; }
      th,td{
        padding:12px 14px;
        border-bottom:1px solid rgba(255,255,255,.05);
        text-align:left;
        font-size:13px;
      }
      th{
        font-size:12px;
        color:rgba(255,255,255,.58);
        font-family:var(--mono);
        font-weight:800;
      }
      tbody tr:hover{ background:rgba(45,255,155,.06); }

      .empty{
        padding:14px;
        color:rgba(255,255,255,.62);
        font-family:var(--mono);
        font-size:12px;
        display:none;
      }

      /* Wallet grid */
      .walletGrid{
        display:grid;
        grid-template-columns: 1fr 1fr;
        gap:14px;
        padding:14px;
      }
      @media (max-width:980px){
        .walletGrid{ grid-template-columns:1fr; }
      }
      .inner{
        background:linear-gradient(180deg, rgba(255,255,255,.03), transparent), var(--card2);
      }
      .innerHead{
        display:flex;
        justify-content:space-between;
        align-items:flex-end;
        padding:12px 12px;
        border-bottom:1px solid rgba(255,255,255,.06);
      }
      .innerTitle{ font-weight:950; }

      .progressRow{
        padding:12px 12px;
        border-bottom:1px solid rgba(255,255,255,.06);
      }
      .progressTop{
        display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
        font-family:var(--mono);
        font-size:12px;
      }
      .barOuter{
        height:10px; border-radius:999px;
        background:rgba(255,255,255,.07);
        overflow:hidden;
        margin-top:8px;
      }
      .barInner{
        height:100%;
        border-radius:999px;
        background:linear-gradient(90deg, rgba(45,255,155,.95), rgba(255,255,255,.25));
      }

      .foot{
        margin-top:18px;
        text-align:center;
        opacity:.85;
      }
    </style>
  </head>

  <body>
    <div class="bg">
      <div class="gridlines"></div>
      <div class="grain"></div>
      <div class="glow glowA"></div>
      <div class="glow glowB"></div>
    </div>

    <main class="wrap">
      <header class="top">
        <div class="brand">
          <div class="logo">ðŸ’Š</div>
          <div>
            <h1><span class="ticker">$EMOTIONS</span> <span style="opacity:.9">Coin Memory</span></h1>
            <p class="sub">Pumpfun-style prelaunch dashboard â€” starts empty, becomes alive the moment your mint exists.</p>
          </div>
        </div>

        <button class="btn" id="refreshBtn"><span style="opacity:.9">âŸ³</span> Refresh</button>
      </header>

      <section class="bar card">
        <div class="barLeft">
          <span class="chip" id="statusChip"><span class="dot" id="statusDot"></span><b id="status">loading</b></span>
          <span class="chip"><span style="opacity:.7">raw</span> <b id="rawCount">-</b></span>
          <span class="chip"><span style="opacity:.7">buys</span> <b id="buyCount">-</b></span>
          <span class="chip"><span style="opacity:.7">mint</span> <span class="mono" id="targetMint">null</span></span>
        </div>

        <div class="barRight">
          <span class="meta">
            Creator <span class="mono" id="creatorWallet">â€”</span>
            <span class="sep">Â·</span>
            <span id="lastUpdated">â€”</span>
          </span>
        </div>
      </section>

      <section class="grid">
        <article class="card hero">
          <div class="heroTop">
            <div class="heroTitle">
              <span class="pill">ðŸ’Š Quest of the Hour</span>
              <span class="small" id="questCountdown">loadingâ€¦</span>
            </div>
            <div class="small">claims: <b id="questClaimsCount">-</b></div>
          </div>

          <h2 id="questTitle">â€”</h2>
          <p class="rule" id="questRule">â€”</p>

          <div class="chips" id="questBadgeWrap"></div>

          <div class="claimBox">
            <input class="input" id="claimWallet" placeholder="wallet address (base58)" />
            <input class="input" id="claimSig" placeholder="tx signature" />
            <button class="btn primary" id="claimBtn">CLAIM</button>
          </div>

          <div class="hint">
            Claims require the signature to exist in <span class="mono">raw_events</span> (ingested via webhook).
          </div>
        </article>

        <aside class="card side">
          <div class="sideHead">
            <div>
              <div class="sideTitle">Upcoming</div>
              <div class="small">Locked preview Â· deterministic rotation</div>
            </div>
          </div>

          <div id="nextQuests" class="stack">loadingâ€¦</div>

          <div class="divider"></div>

          <div class="sideHead">
            <div>
              <div class="sideTitle">Quest Pool</div>
              <div class="small">Proof itâ€™s a system (not random chaos)</div>
            </div>
          </div>

          <div id="questPool" class="stack">loadingâ€¦</div>
        </aside>
      </section>

      <section class="card" style="margin-top:14px">
        <div class="cardHead">
          <div>
            <div class="cardTitle">Recent Claims</div>
            <div class="small" id="claimsMeta">(0)</div>
          </div>
        </div>
        <div class="tableWrap">
          <table>
            <thead>
              <tr>
                <th>Rank</th>
                <th>Wallet</th>
                <th>Signature</th>
                <th>Time</th>
              </tr>
            </thead>
            <tbody id="claims"></tbody>
          </table>
          <div id="claimsEmpty" class="empty">No claims yet this hour.</div>
        </div>
      </section>

      <section class="card" style="margin-top:14px">
        <div class="cardHead">
          <div>
            <div class="cardTitle">Actors</div>
            <div class="small" id="actorsMeta">(0)</div>
          </div>
          <div class="small">Click a wallet to inspect</div>
        </div>

        <div class="tableWrap">
          <table>
            <thead>
              <tr>
                <th>Codename</th>
                <th>Vibe</th>
                <th>Badges</th>
                <th>Interactions</th>
              </tr>
            </thead>
            <tbody id="actors"></tbody>
          </table>
          <div id="actorsEmpty" class="empty">No actors yet.</div>
        </div>
      </section>

      <section class="card" style="margin-top:14px">
        <div class="cardHead">
          <div>
            <div class="cardTitle">Wallet</div>
            <div class="small" id="walletMeta">click an actor</div>
          </div>
        </div>

        <div class="walletGrid">
          <div class="card inner">
            <div class="innerHead">
              <div class="innerTitle">Unlocked Badges</div>
              <div class="small">latest 20</div>
            </div>
            <div class="chips" id="walletBadges"></div>
          </div>

          <div class="card inner">
            <div class="innerHead">
              <div class="innerTitle">Badge Progress</div>
              <div class="small" id="progressMeta">â€”</div>
            </div>
            <div id="progressBox"></div>
          </div>
        </div>

        <div class="card inner" style="margin:14px">
          <div class="innerHead">
            <div class="innerTitle">Timeline</div>
            <div class="small">last 40</div>
          </div>

          <div class="tableWrap">
            <table>
              <thead>
                <tr>
                  <th>Time</th>
                  <th>Kind</th>
                  <th>Amount</th>
                  <th>Other</th>
                  <th>Sig</th>
                </tr>
              </thead>
              <tbody id="walletEvents"></tbody>
            </table>
            <div id="walletEmpty" class="empty">No wallet selected.</div>
          </div>
        </div>
      </section>

      <footer class="foot">
        <span class="small"><span class="ticker">$EMOTIONS</span> â€” pumpfun green/white vibe</span>
      </footer>
    </main>

    <script src="/app.js"></script>
  </body>
</html>
