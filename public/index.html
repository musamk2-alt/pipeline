<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>$EMOTIONS ‚Äî Coin Memory</title>

  <style>
    :root{
      --bg0:#050705;
      --bg1:#07120b;
      --card: rgba(10, 18, 12, .72);
      --card2: rgba(6, 10, 7, .72);
      --stroke: rgba(255,255,255,.08);
      --stroke2: rgba(45,255,155,.18);

      --text:#eef7f0;
      --muted: rgba(238,247,240,.72);
      --muted2: rgba(238,247,240,.54);

      --green:#2dff9b;
      --green2:#19c676;
      --white:#ffffff;

      --bad:#ff4d7d;

      --shadow: 0 18px 55px rgba(0,0,0,.55);
      --shadow2: 0 10px 28px rgba(0,0,0,.45);

      --r: 18px;
      --r2: 14px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(900px 500px at 15% 10%, rgba(45,255,155,.16), transparent 55%),
        radial-gradient(900px 600px at 85% 20%, rgba(45,255,155,.10), transparent 55%),
        radial-gradient(1200px 900px at 45% 110%, rgba(255,255,255,.05), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    .wrap{
      max-width: 1180px;
      margin: 28px auto 70px;
      padding: 0 18px;
    }

    /* top header */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding:18px 18px;
      border:1px solid var(--stroke);
      border-radius: var(--r);
      background: linear-gradient(180deg, rgba(8,14,10,.72), rgba(5,10,7,.62));
      box-shadow: var(--shadow2);
      backdrop-filter: blur(10px);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      min-width: 280px;
    }

    .pill{
      width:44px;height:44px;border-radius:14px;
      background:
        radial-gradient(14px 14px at 28% 30%, rgba(255,255,255,.65), transparent 60%),
        linear-gradient(135deg, rgba(45,255,155,.95), rgba(25,198,118,.85));
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 10px 25px rgba(45,255,155,.20), 0 2px 0 rgba(255,255,255,.06) inset;
      display:grid;place-items:center;
      position:relative;
    }
    .pill:after{
      content:"";
      position:absolute; inset:8px;
      border-radius:12px;
      background: linear-gradient(135deg, rgba(0,0,0,.08), rgba(255,255,255,.05));
      mix-blend-mode: overlay;
      pointer-events:none;
    }
    .pill span{ font-size:18px; filter: drop-shadow(0 6px 10px rgba(0,0,0,.25)); }

    h1{
      margin:0;
      font-size: 22px;
      letter-spacing:.2px;
      line-height:1.15;
    }
    .ticker{
      color:var(--green);
      font-weight:900;
      margin-right:6px;
      text-shadow: 0 0 18px rgba(45,255,155,.22);
    }
    .subtitle{
      margin-top:4px;
      color:var(--muted);
      font-size:13px;
    }

    .top-actions{
      display:flex; align-items:center; gap:10px;
    }
    .btn{
      cursor:pointer;
      border:1px solid rgba(255,255,255,.12);
      color:var(--text);
      background: rgba(0,0,0,.25);
      padding: 10px 14px;
      border-radius: 999px;
      font-weight:800;
      letter-spacing:.2px;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(45,255,155,.35);
      background: rgba(45,255,155,.06);
    }

    /* small chips */
    .chiprow{
      display:flex; flex-wrap:wrap; gap:8px;
      align-items:center;
      margin-top:14px;
      padding: 14px 16px;
      border:1px solid var(--stroke);
      border-radius: var(--r);
      background: rgba(0,0,0,.18);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow2);
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      border-radius:999px;
      padding: 7px 10px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      font-size:12px;
      color: var(--muted);
      line-height:1;
      white-space:nowrap;
    }
    .chip b{ color:var(--text); }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }

    .statusChip{
      color: var(--text);
      border-color: rgba(45,255,155,.22);
      background: rgba(45,255,155,.08);
    }
    .dot{
      width:10px;height:10px;border-radius:999px;
      background: rgba(255,255,255,.25);
      box-shadow: 0 0 0 4px rgba(255,255,255,.06);
    }

    /* layout */
    .grid{
      margin-top:18px;
      display:grid;
      grid-template-columns: 1.25fr .9fr;
      gap:14px;
      align-items:start;
    }
    @media (max-width: 980px){
      .grid{ grid-template-columns: 1fr; }
    }

    .card{
      border:1px solid var(--stroke);
      border-radius: var(--r);
      background: linear-gradient(180deg, rgba(10,18,12,.70), rgba(6,10,7,.62));
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .card:before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(500px 220px at 20% 0%, rgba(45,255,155,.18), transparent 60%);
      pointer-events:none;
      opacity:.9;
    }

    .cardhead{
      padding: 16px 16px 12px;
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .cardhead h2{
      margin:0;
      font-size:16px;
      letter-spacing:.2px;
    }
    .cardhead .small{
      font-size:12px;
      color: var(--muted2);
    }

    .cardbody{
      padding: 16px;
      position:relative;
    }

    .questTitle{
      margin: 6px 0 8px;
      font-size: 34px;
      letter-spacing:.3px;
      font-weight: 1000;
      line-height:1.0;
      text-transform: uppercase;
    }
    .questRule{
      color: var(--muted);
      font-size: 14px;
      margin-bottom: 10px;
    }

    .badgeRow{
      display:flex; flex-wrap:wrap; gap:8px;
      margin: 12px 0 14px;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      border-radius:999px;
      padding: 7px 10px;
      border:1px solid rgba(45,255,155,.22);
      background: rgba(45,255,155,.08);
      color: var(--text);
      font-size:12px;
      font-weight: 800;
    }
    .spark{ opacity:.9 }

    .formRow{
      display:grid;
      grid-template-columns: 1fr 1fr auto;
      gap:10px;
      align-items:center;
      margin-top: 10px;
    }
    @media (max-width: 680px){
      .formRow{ grid-template-columns: 1fr; }
    }
    input{
      width:100%;
      padding: 12px 12px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.25);
      color: var(--text);
      outline:none;
    }
    input:focus{
      border-color: rgba(45,255,155,.40);
      box-shadow: 0 0 0 4px rgba(45,255,155,.12);
    }
    .claimBtn{
      padding: 12px 14px;
      border-radius: 12px;
      border:1px solid rgba(45,255,155,.55);
      background: linear-gradient(135deg, rgba(45,255,155,.95), rgba(25,198,118,.85));
      color: #041007;
      font-weight: 1000;
      letter-spacing:.4px;
      cursor:pointer;
      transition: transform .12s ease;
    }
    .claimBtn:hover{ transform: translateY(-1px); }
    .help{
      color: var(--muted2);
      font-size: 12px;
      margin-top: 10px;
    }

    /* side lists */
    .list{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .item{
      border:1px solid rgba(255,255,255,.08);
      border-radius: var(--r2);
      background: rgba(0,0,0,.20);
      padding: 12px 12px;
    }
    .lock{
      font-size:12px;
      color: var(--muted2);
      display:inline-flex;
      align-items:center;
      gap:8px;
      margin-bottom:8px;
    }
    .lock:before{
      content:"üîí";
      opacity:.9;
    }
    .t{ font-weight:1000; letter-spacing:.2px; text-transform:uppercase; }
    .r{ color: var(--muted); font-size:13px; margin-top:6px; }

    /* tables */
    .tableCard{ margin-top:14px; }
    table{ width:100%; border-collapse:collapse; }
    th,td{
      padding: 10px 10px;
      border-bottom:1px solid rgba(255,255,255,.06);
      font-size: 13px;
      text-align:left;
      vertical-align:top;
    }
    th{ color: var(--muted2); font-weight:900; font-size: 12px; text-transform:uppercase; letter-spacing:.6px; }
    tr:hover td{ background: rgba(45,255,155,.04); }

    .empty{
      display:none;
      padding: 12px;
      color: var(--muted2);
      font-size: 13px;
    }

    /* progress */
    .progressRow{
      padding: 12px;
      border:1px solid rgba(255,255,255,.08);
      border-radius: 14px;
      background: rgba(0,0,0,.18);
      margin: 10px 12px;
    }
    .progressTop{
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:center;
      color: var(--text);
      font-size: 13px;
      margin-bottom: 8px;
    }
    .barOuter{
      height:10px;
      background: rgba(255,255,255,.08);
      border-radius: 999px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.06);
    }
    .barInner{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(45,255,155,.95), rgba(25,198,118,.90));
      box-shadow: 0 0 18px rgba(45,255,155,.18);
      border-radius: 999px;
    }

    .split{
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
    }

    .tiny{
      font-size:12px;
      color: var(--muted2);
    }
  </style>
</head>

<body>
  <div class="wrap">

    <div class="topbar">
      <div class="brand">
        <div class="pill" aria-hidden="true"><span>üíä</span></div>
        <div>
          <h1><span class="ticker">$EMOTIONS</span> Coin Memory</h1>
          <div class="subtitle">Pumpfun-style ‚Äúalive‚Äù dashboard ‚Äî looks real, feels coded, updates live.</div>
        </div>
      </div>

      <div class="top-actions">
        <button class="btn" id="refreshBtn">‚ü≥ Refresh</button>
      </div>
    </div>

    <div class="chiprow">
      <span class="chip statusChip" id="statusChip">
        <span class="dot"></span>
        <span>status:</span> <b id="status">‚Äî</b>
      </span>

      <span class="chip">raw: <b id="rawCount">-</b></span>
      <span class="chip">buys: <b id="buyCount">-</b></span>
      <span class="chip mono">mint: <b id="targetMint">null</b></span>

      <span class="chip mono">creator: <b id="creatorWallet">‚Äî</b></span>
      <span class="chip" id="lastUpdated">Updated ‚Äî</span>
      <span class="chip tiny">vibe dashboard</span>
    </div>

    <div class="grid">
      <!-- LEFT: ACTIVE QUEST -->
      <div class="card">
        <div class="cardhead">
          <div>
            <h2>Active Quest (this hour)</h2>
            <div class="small">claims: <b id="questClaimsCount">0</b></div>
          </div>
          <div class="small" id="questCountdown">Next quest in 0:00:00</div>
        </div>

        <div class="cardbody">
          <div class="questTitle" id="questTitle">‚Äî</div>
          <div class="questRule" id="questRule">‚Äî</div>

          <div class="badgeRow" id="questBadgeWrap"></div>

          <div class="formRow">
            <input id="claimWallet" placeholder="wallet address (base58)" />
            <input id="claimSig" placeholder="tx signature" />
            <button class="claimBtn" id="claimBtn">CLAIM</button>
          </div>

          <div class="help">Signature must exist in <span class="mono">raw_events</span> (ingested via webhook).</div>
        </div>
      </div>

      <!-- RIGHT: UPCOMING + POOL -->
      <div class="split">
        <div class="card">
          <div class="cardhead">
            <h2>Upcoming Quests (locked preview)</h2>
            <div class="small">deterministic rotation</div>
          </div>
          <div class="cardbody">
            <div class="list" id="nextQuests"></div>
          </div>
        </div>

        <div class="card">
          <div class="cardhead">
            <h2>Quest Pool (proof)</h2>
            <div class="small">not random chaos</div>
          </div>
          <div class="cardbody">
            <div class="list" id="questPool"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- TABLES -->
    <div class="card tableCard">
      <div class="cardhead">
        <h2>Recent Claims</h2>
        <div class="small" id="claimsMeta">(0)</div>
      </div>
      <div class="cardbody" style="padding:0">
        <div class="empty" id="claimsEmpty">No claims yet.</div>
        <table>
          <thead>
            <tr>
              <th style="width:80px">Rank</th>
              <th>Wallet</th>
              <th>Signature</th>
              <th style="width:120px">Time</th>
            </tr>
          </thead>
          <tbody id="claims"></tbody>
        </table>
      </div>
    </div>

    <div class="grid" style="margin-top:14px">
      <div class="card">
        <div class="cardhead">
          <h2>Actors</h2>
          <div class="small" id="actorsMeta">(0)</div>
        </div>
        <div class="cardbody" style="padding:0">
          <div class="empty" id="actorsEmpty">No actors yet.</div>
          <table>
            <thead>
              <tr>
                <th>Wallet</th>
                <th style="width:110px">Vibe</th>
                <th style="width:90px">Badges</th>
                <th style="width:120px">Interactions</th>
              </tr>
            </thead>
            <tbody id="actors"></tbody>
          </table>
        </div>
      </div>

      <div class="card">
        <div class="cardhead">
          <div>
            <h2>Wallet Memory</h2>
            <div class="small" id="walletMeta">Click an actor to load.</div>
          </div>
          <div class="small" id="progressMeta"></div>
        </div>

        <div class="cardbody" style="padding: 12px;">
          <div class="badgeRow" id="walletBadges"></div>

          <div id="progressBox">
            <div class="empty" style="display:block">No wallet selected.</div>
          </div>

          <div style="margin-top:12px;border-top:1px solid rgba(255,255,255,.06)"></div>

          <div class="cardhead" style="padding: 14px 0 10px;border:0">
            <h2 style="font-size:14px;margin:0">Timeline</h2>
            <div class="small">last 40</div>
          </div>

          <div class="empty" id="walletEmpty">No events yet.</div>

          <div style="overflow:auto;border:1px solid rgba(255,255,255,.06); border-radius:14px">
            <table>
              <thead>
                <tr>
                  <th style="width:130px">Block time</th>
                  <th style="width:150px">Kind</th>
                  <th style="width:120px">Amount</th>
                  <th style="width:140px">Other</th>
                  <th>Signature</th>
                </tr>
              </thead>
              <tbody id="walletEvents"></tbody>
            </table>
          </div>

        </div>
      </div>
    </div>

  </div>

  <script src="/app.js"></script>
</body>
</html>
